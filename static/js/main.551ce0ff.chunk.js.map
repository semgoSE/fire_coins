{"version":3,"sources":["App.js","index.js","img/fire_coin.png"],"names":["api","VKMiniAppAPI","url","params","URLSearchParams","window","location","search","slice","App","props","init","pin","console","log","state","source","activeTab","id","setState","popout","axios","post","JSON","stringify","event","obj","href","then","data","status","activePanel","user","snackbar","onClose","duration","before","fill","description","get_transfers","transfers_offset","transfers","hash","is_load","new_transfers","offset","res","length","disabled","concat","onChange","e","currentTarget","name","value","tie","onRefresh","feching","send","peer_id","amount","activeTabTransfer","from_id","coins","activeModal","openCodeReader","code_data","catch","err","userInfo","initApp","get","this","getUserInfo","i","toString","replace","modal","dynamicContentHeight","header","selected","onClick","top","type","size","mode","left","label","isFetching","align","style","fontSize","fontWeight","parse","src","fire_coin","height","weight","position","marginTop","indicator","is_orig","vk_user_id","action","target","photo_200","first_name","last_name","color","map","transfer","key","multiline","bottom","is_vk","after","text","separator","initialValue","secret","padding","inputStyle","borderColor","borderRadius","inputFocusStyle","onComplete","index","subheader","autoComplete","React","Component","ReactDOM","render","document","getElementById","default","module","exports"],"mappings":"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","file":"static/js/main.551ce0ff.chunk.js","sourcesContent":["import React  from 'react';\nimport { View, Panel, PanelHeader, Div, Banner, Tabs, TabsItem, FormLayout, FormLayoutGroup, Input, ScreenSpinner, Snackbar, Avatar, Header, Group, Cell, Button, CardGrid, Card, PanelHeaderButton, SimpleCell, PanelHeaderBack, PanelSpinner, Placeholder, RichCell, List, Spinner, Counter, ModalRoot, ModalPage, ModalPageHeader, TabbarItem, Textarea, FormStatus, PullToRefresh} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport bridge from \"@vkontakte/vk-bridge\";\nimport PinInput from \"react-pin-input\";\nimport { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\nimport axios from \"axios\";\n\nimport './port.css';\n\nimport Icon24Services from '@vkontakte/icons/dist/24/services';\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\nimport Icon24Error from '@vkontakte/icons/dist/24/error';\nimport Icon56GoodsCollection from '@vkontakte/icons/dist/56/goods_collection';\nimport Icon56MoneyTransferOutline from '@vkontakte/icons/dist/56/money_transfer_outline';\nimport Icon56GiftOutline from '@vkontakte/icons/dist/56/gift_outline';\nimport Icon28HistoryBackwardOutline from '@vkontakte/icons/dist/28/history_backward_outline';\nimport Icon28HistoryForwardOutline from '@vkontakte/icons/dist/28/history_forward_outline';\nimport Icon56UsersOutline from '@vkontakte/icons/dist/56/users_outline';\nimport Icon24LogoVk from '@vkontakte/icons/dist/24/logo_vk';\nimport Icon28GlobeOutline from '@vkontakte/icons/dist/28/globe_outline';\nimport Icon28LogoVkOutline from '@vkontakte/icons/dist/28/logo_vk_outline';\n\nimport fire_coin from './img/fire_coin.png';\n\n\nconst api = new VKMiniAppAPI();\nconst url = \"https://api-waste.hhos.ru/fire_coins.api/\";\nconst params = new URLSearchParams(window.location.search.slice(1));\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tactivePanel:'safe_pin',//активная панель\n\t\t\tactiveTab:'log_in',//активная вкладка(web)\n\t\t\tactiveTabTransfer:'id',\n\t\t\tfeching:false,\n\t\t\tactiveModal:null,\n\t\t\tuser:null,\n\t\t\tuserInfo:null,\n\t\t\tsource:'web',\n\t\t\tid:'',\n\t\t\tpin:'',\n\t\t\tpopout:null,\n\t\t\tsnackbar:null,\n\n\t\t\ttransfers:[],\n\t\t\tis_load:true,\n\t\t\ttransfers_offset:0,\n\t\t\tdisabled:false,\n\n\n\t\t\tamount:0,\n\t\t\tpeer_id:0,\n\t\t\tdescription:0,\n\t\t\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tapi.initApp();\n        if(params.get('vk_user_id') != null) {\n\t\t   this.setState({source:'vk'});\n\t\t   api.getUserInfo().then(userInfo => {\n\t\t\t   this.setState({userInfo:userInfo});\n\t\t   })\n\t\t}\t\t\n\t}\n\n\tinit = (pin) => {\n\t\tconsole.log(pin);\n\t  const {source, activeTab, id}  = this.state;\n\t  this.setState({popout:<ScreenSpinner />})\t\n\t  axios.post(url, JSON.stringify({event:'init', obj:{source:source+'_'+activeTab, pin:pin, id:id}, url:window.location.href}))\n\t  .then(data => {\n\t\t  if(data.data.status === 'ok') {\n\t\t\tthis.setState({popout:null, activePanel:'main',user:data.data.data})\n\t\t  }\n\t\t  this.setState({popout:null,snackbar:\n\t\t  <Snackbar onClose={() => this.setState({snackbar:null})} duration={2000}\n\t\t  before={data.data.status === 'ok' ? <Icon24Done fill=\"var(--accent)\" />: <Icon24Error fill=\"var(--dynamic_red)\" />}>{data.data.description}</Snackbar>})\n\n\t  })\n\t}\n\n\tget_transfers = () => {\n\t\n\t\tconst { user, transfers_offset, transfers }  = this.state;\n       axios.post(url, JSON.stringify({event:'read_history', obj:{id:user.id, hash:user.hash}}));\n\t\tthis.setState({activePanel:'transfers',is_load:true, user:{...user, new_transfers:0}});\n\t\taxios.post(url, JSON.stringify({event:'get_transfers', obj:{id:user.id, hash:user.hash, offset:transfers_offset}}))\n\t\t.then(res => {\n\t\t\tif(res.data.length != 0) {\n\t\t\t\tthis.setState({transfers_offset:transfers_offset+1});\n\t\t\t}else{\n\t\t\t\tif(this.state.disabled == false) {\n\t\t\t\tthis.setState({snackbar:<Snackbar onClose={() =>this.setState({snackbar:null})}>Больше нет</Snackbar>, disabled:true});\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.setState({is_load:false, transfers:transfers.concat(res.data)});\n\t\t})\n\t}\n\n\n\tonChange = (e) => {\n\t\tconst { name, value } = e.currentTarget;\n\t\tthis.setState({[name]:value});\n\t}\n\n\tparse (i) {\n\t\tlet count = i/1000;\n\t\tlet re = /(?=\\B(?:\\d{3})+(?!\\d))/g;\n\t\tlet j = count.toString().replace( re, ' ' ).replace('.', ',');\n\t\treturn j;\n\t}\n\n\ttie = () => {\n\t\tconst { user }  = this.state;\n\t\taxios.post(url, JSON.stringify({event:'tie_VK', obj:{id:user.id, hash:user.hash}})).then(res => {\n\t\t\tconsole.log(res)\n\t\t});\n\t}\n\n\tonRefresh = () => {\n\t\tconst { user } = this.state;\n\t\tthis.setState({feching:true});\n\t\taxios.post(url, JSON.stringify({event:'get_user_by_hash', obj:{id:user.id, hash:user.hash}}))\n\t\t.then(res => {\n\t\t\tif(res.data.status == 'ok') {\n\t\t\t\tthis.setState({user:res.data.data, feching:false});\n\t\t\t}else{\n               this.setState({snackbar:<Snackbar onClose={() =>this.setState({snackbar:null})} before={<Icon24Error fill=\"var(--dynamic_red)\"/>}>Ошибочка</Snackbar>})\n\t\t\t}\n\t\t})\n\t}\n\n\tsend = () => {\n\t  this.setState({popout:<ScreenSpinner />})\t\n\t  const {user, peer_id, description, amount, source} = this.state;\n\t   if(this.state.activeTabTransfer == 'id') {\n\t    axios.post(url, JSON.stringify({event:'transfer_by_id', obj:{from_id:user.id, hash:user.hash,peer_id:peer_id, description:description, amount:amount, source:source}}))\n\t    .then(res => {\n\t  this.setState({popout:null});\n\t    if(res.data.status == 'ok') {\n\t\t\tthis.setState({user:{...user, coins:user.coins-amount*1000},activeModal:null, snackbar:\n\t\t\t\t<Snackbar onClose={() =>this.setState({snackbar:null})} before={<Icon24Done fill=\"var(--accent)\" />} duration={2000}>{res.data.description}</Snackbar>})\n\t\t}else{\n\t\t\tthis.setState({activeModal:null,snackbar:<Snackbar onClose={() =>this.setState({snackbar:null})} before={<Icon24Error fill=\"var(--dynamic_red)\" />} duration={2000}>{res.data.description}</Snackbar>});\n\t\t}  \n\t\t  console.log(res.data.status);\n\t    })\n\t  }else{\n\t\t  api.openCodeReader().then(data => {\n            console.log(data);\n\t\t\taxios.post(url, JSON.stringify({event:'transfer_by_id', obj:{from_id:user.id, hash:user.hash,peer_id:data.code_data, description:description, amount:amount, source:source}}))\n\t\t\t.then(res => {\n\t\t  this.setState({popout:null});\n\t\t\tif(res.data.status == 'ok') {\n\t\t\t\tthis.setState({user:{...user, coins:user.coins-amount*1000},activeModal:null, snackbar:\n\t\t\t\t\t<Snackbar onClose={() =>this.setState({snackbar:null})} before={<Icon24Done fill=\"var(--accent)\" />} duration={2000}>{res.data.description}</Snackbar>})\n\t\t\t}else{\n\t\t\t\tthis.setState({activeModal:null,snackbar:<Snackbar onClose={() =>this.setState({snackbar:null})} before={<Icon24Error fill=\"var(--dynamic_red)\" />} duration={2000}>{res.data.description}</Snackbar>});\n\t\t\t}  \n\t\t\t  console.log(res.data.status);\n\t\t\t})\n\t\t  }).catch(err => console.log(err))\n\t  }\n\t}\n\n\trender() {\n\t\tconst { activeTab,activeTabTransfer, transfers, user} = this.state;\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel} popout={this.state.popout} modal={\n\t\t\t\t<ModalRoot activeModal={this.state.activeModal}>\n                   <ModalPage id='transfer' dynamicContentHeight onClose={() => this.setState({ activeModal:null})} header={\n\t\t\t\t\t<ModalPageHeader>Перевести</ModalPageHeader>}>\n\t\t\t\t\t<Tabs>\n\t\t\t\t\t\t<TabsItem selected={activeTabTransfer == 'id'} onClick={() => this.setState({activeTabTransfer: 'id'})}>\n\t\t\t\t\t\t\tПо номеру\n\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t<TabsItem selected={activeTabTransfer == 'qr'} onClick={() => this.setState({activeTabTransfer: 'qr'})}>\n                           По QR\n\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t</Tabs>\n\t\t\t\t\t{activeTabTransfer == 'id' ?\n                    <FormLayout>\n\t\t\t\t\t\t<FormLayoutGroup top=\"Номер счета\">\n\t\t\t\t\t\t\t<Input name='peer_id' onChange={this.onChange} type=\"number\" value={this.state.peer_id}/>\n\t\t\t\t\t\t</FormLayoutGroup>\n\n\t\t\t\t\t\t<FormLayoutGroup top=\"Сумма перевода\">\n                            <Input name='amount' onChange={this.onChange} value={this.state.amount} type=\"number\"/>\n\t\t\t\t\t\t</FormLayoutGroup>\n\n\t\t\t\t\t\t<FormLayoutGroup top=\"Описание, комментарий\">\n                            <Textarea onChange={this.onChange} name='description' description={this.state.description}/>\n\t\t\t\t\t\t</FormLayoutGroup>\n\n\t\t\t\t\t\t<Button size='xl' mode='outline' disabled={ this.state.peer_id <= 0 || this.state.amount <= 0} onClick={this.send}>Отправить</Button>\n\t\t\t\t\t</FormLayout>:\n\t\t\t\t\t <FormLayout>\t\n                        {this.state.source != \"vk\"?\n                        <FormStatus header={\"Неактивно\"} mode='error'>\n                          Для работы этой функции, запустите в VK mini apps\n\t\t\t\t\t\t</FormStatus>:null\n\t\t\t           }  \n\n\t\t\t\t\t\t<FormLayoutGroup top=\"Сумма перевода\">\n\t\t\t\t\t\t\t<Input name='amount' onChange={this.onChange} value={this.state.amount} type='number'/>\n\t\t\t\t\t\t</FormLayoutGroup>\n\t\t\t\t\n\t\t\t\t\t\t<FormLayoutGroup top=\"Описание, комментарий\">\n\t\t\t\t\t\t\t<Textarea name='description' onChange={this.onChange} value={this.state.description}/>\n\t\t\t\t\t\t</FormLayoutGroup>\n\t\t\t\t\n\t\t\t\t\t\t<Button size='xl' mode='outline' disabled={this.state.source != \"vk\" || this.state.peer_id <= 0 || this.state.amount <= 0}>Сканировать</Button>\n\t\t\t\t\t</FormLayout>\n\t\t\t       }\n\t\t\t\t   </ModalPage>\n\t\t\t\t</ModalRoot>\n\t\t\t}>\n               <Panel id='main'>\n\t\t\t\t <PanelHeader left={\n\t\t\t\t\t <PanelHeaderButton onClick={this.get_transfers} label={user == null || user.new_transfers == 0 ? null : <Counter size='s' mode='prominent'>{user.new_transfers}</Counter>}><Icon28HistoryBackwardOutline /></PanelHeaderButton>\n\t\t\t\t }>Профиль</PanelHeader>  \n\t\t\t\t  {user == null ? <PanelSpinner />:\n\t\t\t\t  <PullToRefresh isFetching={this.state.feching} onRefresh={this.onRefresh}>\n\t\t\t\t  <Group header={<Header mode='secondary'>Баланс</Header>}>\n\t\t\t\t   <div align=\"center\">  \n\t\t\t\t    <span style={{fontSize:30, fontWeight:'bold'}}>{this.parse(user.coins)}</span>\n\t\t\t\t\t<img src={fire_coin} style={{height:34,weight:34, position:'relative', top:3}}/>\n\t\t\t\t  </div>\n                   <CardGrid style={{marginTop:10}}>\n\t\t\t\t\t   <Card size='s'> \n\t\t\t\t\t\t   <Div align='center'>\n                            <Icon56MoneyTransferOutline fill=\"var(--accent)\" onClick={() => this.setState({activeModal:'transfer'})}/>\n\t\t\t\t\t\t   </Div>\n\t\t\t\t\t   </Card>\n\n\t\t\t\t\t   <Card size='s'>\n\t\t\t\t\t\t   <Div align='center'>\n\t\t\t\t\t\t\t   <Icon56GoodsCollection fill=\"#F76F12\" />\n\t\t\t\t\t\t   </Div>\n\t\t\t\t\t   </Card>\n\n\t\t\t\t\t   <Card size='s'>\n\t\t\t\t\t\t   <Div align='center'>\n\t\t\t\t\t\t\t   <Icon56GiftOutline fill='#F712C2'/>\n\t\t\t\t\t\t   </Div>\n\t\t\t\t\t   </Card>\n\t\t\t\t   </CardGrid>\n\t\t\t\t  </Group>\n                  <Group header={<Header mode='secondary'>Информация о кошельке</Header>}>\n                    <SimpleCell indicator={user.id} description=\"Используется для транзакций\">Номер счета</SimpleCell>\n\t\t\t\t\t<SimpleCell indicator={user.is_orig == 1 ? \"Да\":\"Нет\"}>Карта</SimpleCell>\n\t\t\t\t  </Group>\n\n\t\t\t\t  <Group header={<Header mode='secondary'>Прязка вк</Header>}>\n\t\t\t\t  {user.vk_user_id == null ? <Placeholder action={\n\t\t\t\t  <Button before={<Icon24LogoVk />} href=\"https://oauth.vk.com/authorize?client_id=7473792&display=page&redirect_uri=http://localhost/tie.php&scope=&response_type=code&v=5.103\" target=\"_blank\">Прявязать</Button>\n\t\t\t\t}>Счет не привязан к аккаунту ВК</Placeholder>:\n\t\t\t<SimpleCell before={<Avatar src={user.data.photo_200}/>}>{user.data.first_name+\" \"+user.data.last_name}</SimpleCell>\n\t\t\t\t\t}\n\t\t\t\t  </Group>\n\t\t\t\t  </PullToRefresh>\n\t\t\t\t  \n\t\t  }\n\t\t\t\t {this.state.snackbar}\n\t\t\t   </Panel>\n\t\t\t   <Panel id='transfers'>\n                 <PanelHeader left={<PanelHeaderBack onClick={() => this.setState({activePanel:'main'})}/>}>\n\t\t\t\t\t Ваши транзакции\n\t\t\t\t </PanelHeader>\n\n\t\t\t\t {this.state.is_load && this.state.transfers_offset == 0 ? <Spinner size=\"large\" style={{color:'var(--accent)', marginTop:96}} /> : \n\t\t\t\t   <div>\n\t\t\t\t\t   {transfers.length == 0 ? <Placeholder>У вас пока нет транзакций</Placeholder>:\n\t\t\t\t\t   \n\t\t\t\t\t    <List>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{transfers.map((transfer,i) =>\n\t\t\t\t\t\t\t   <div>\n\t\t\t\t\t\t\t    {user.id == transfer.from_id ?\n\t\t\t\t\t\t\t\t<RichCell key={i} multiline\n\t\t\t\t\t\t\t\tbottom={transfer.is_vk == 1 ? <Icon28LogoVkOutline style={{marginTop:5}} fill=\"var(--accent)\"/>:<Icon28GlobeOutline style={{marginTop:5}} fill='var(--accent)'/>}\n\t\t\t\t\t\t\t\tbefore={<Avatar size={72} src={transfer.data.photo_200 == null ? null : transfer.data.photo_200}>{transfer.data.photo_200 == null ? <Icon56UsersOutline fill=\"var(--accent)\"/>:null}</Avatar>} \n\t\t\t\t\t\t\t\tafter={<div><span style={{fontSize:15, fontWeight:'bold', color:'var(--dynamic_red)'}}>{\"-\"+transfer.amount/1000}</span><img src={fire_coin} style={{height:24,weight:24, position:'relative', top:5}}/></div>}\n\t\t\t\t\t\t\t\ttext={transfer.description == '0' ? \"\":transfer.description}>{transfer.data.first_name == null ? \"Перевод на счет №\"+transfer.peer_id: \"Перевод \"+transfer.data.first_name+\" \"+transfer.data.last_name}</RichCell>:\n\t\t\t\t\t\t\t\t <RichCell key={i} multiline\n\t\t\t\t\t\t\t\t bottom={transfer.is_vk == 1 ? <Icon28LogoVkOutline style={{marginTop:5}} fill=\"var(--accent)\"/>:<Icon28GlobeOutline style={{marginTop:5}} fill='var(--accent)'/>}\n\t\t\t\t\t\t\t\t  before={<Avatar size={72} src={transfer.data.photo_200 == null ? null : transfer.data.photo_200}>{transfer.data.photo_200 == null ? <Icon56UsersOutline fill=\"var(--accent)\"/>:null}</Avatar>} \n\t\t\t\t\t\t\t\t  after={<div><span style={{fontSize:15, fontWeight:'bold', color:'var(--dynamic_green)'}}>{\"+\"+transfer.amount/1000}</span><img src={fire_coin} style={{height:24,weight:24, position:'relative', top:5}}/></div>}\n\t\t\t\t\t\t\t      text={transfer.description == 0 ? \"\":transfer.description}>{transfer.data.first_name == null ? \"Перевод от счета №\"+transfer.from_id: \"Перевод от \"+transfer.data.first_name+\" \"+transfer.data.last_name}</RichCell>\n\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\t\t\n\t\t\t\t\t    <Div>\n\t\t\t\t\t\t\t<Button size='xl' onClick={this.get_transfers} disabled={this.state.is_load || this.state.disabled}>{this.state.is_load ? <Spinner />:\"Показать еще\"}</Button>\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\n\t                   }\n\t\t\t\t   </div>\n\t\t\t\t }\n\t\t\t\t {this.state.snackbar}\n\t\t\t   </Panel>\n\t\t\t   \n\t\t\t   <Panel id='safe_pin' separator={false}>\n                 <PanelHeader separator={false}>Fire coins</PanelHeader>\n\t\t\t\t {this.state.source == 'vk'? null:\n\t\t\t\t  <Tabs>\n\t\t\t\t\t  <TabsItem selected={activeTab === 'log_in'} onClick={() => this.setState({activeTab:'log_in'})}>Вход</TabsItem>\n\t\t\t\t\t  <TabsItem selected={activeTab === 'create'} onClick={() => this.setState({activeTab:'create'})}>Создание</TabsItem>\n\t\t\t\t  </Tabs>\n\t             }\n\t\t\t\t {activeTab === 'create' || this.state.source == 'vk' ? \n\t\t\t\t <Div align=\"center\">\n\t\t\t\t <FormLayout>\t \n\t\t\t\t <FormLayoutGroup top=\"pin код\">\n\t\t\t\t <PinInput \n\t\t\t\t   length={4} \n\t\t\t\t   initialValue=\"\"\n\t\t\t\t   type=\"numeric\" \n\t\t\t\t   secret\n\t\t\t\t   style={{padding: '10px'}}\n\t\t\t\t   inputStyle={{borderColor: 'var(--accent)', borderRadius: 10, fontWeight: 'bold'}}\n\t\t\t\t   inputFocusStyle={{borderColor: 'var(--dynamic_green)'}}\n\t\t\t\t   onComplete={(value, index) => {this.init(value)}}/>\n\t\t\t\t</FormLayoutGroup>\n\t\t\t\t<Banner header={\"Внимание\"} subheader={\"Введите pin код. Не забывайте его\"}/>\n\t\t\t\t   </FormLayout>\n\t\t\t\t   </Div>\n\t\t\t\t   :\n\t\t\t\t   <Div align=\"center\">\n                    <FormLayout>\n\t\t\t\t\t\t<FormLayoutGroup top=\"Номер кошелька\">\n\t\t\t\t\t\t\t<Input onChange={this.onChange} name='id' autoComplete='off' type=\"number\"/>\n\t\t\t\t\t\t</FormLayoutGroup>\n\n\t\t\t\t\t\t<FormLayoutGroup top=\"pin код\">\t\n\t\t\t\t\t\t\t<PinInput \n\t\t\t\t                 length={4} \n\t\t\t\t                 initialValue=\"\"\n\t\t\t\t                 secret \n\t\t\t\t  \t\t\t\t style={{padding: '10px'}}  \n\t\t\t\t  \t\t\t\t inputStyle={{borderColor: 'var(--accent)', borderRadius: 10}}\n\t\t\t\t  \t\t\t\t inputFocusStyle={{borderColor: 'var(--dynamic_green)'}}\n\t\t\t\t \t\t\t\t onComplete={(value, index) => {this.init(value)}}/>\n\t\t\t\t\t\t</FormLayoutGroup>\t\t  \n\n\t\t\t\t\t</FormLayout>\n\t\t\t\t   </Div>\n\t               }\n\t\t\t\t  <div>\n\t\t\t\t\t  {this.state.snackbar}\n\t\t\t\t  </div>\n\t\t\t   </Panel>\n\t\t\t</View>\n\t\t)\n\t}\n}\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\n// Init VK  Mini App\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n\n","module.exports = __webpack_public_path__ + \"static/media/fire_coin.aec37865.png\";"],"sourceRoot":""}